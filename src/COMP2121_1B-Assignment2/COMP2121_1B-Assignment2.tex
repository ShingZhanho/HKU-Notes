\documentclass[answers]{exam}
\input{packages.tex}
\input{preambles.tex}

\begin{document}

\begin{center}
    \textbf
    {\Large{COMP2121 Discrete Mathematics} \\
    \large{25/26 Semester 1} \\
    \large{Assignment 2}}\\
    SHING, Zhan Ho Jacob \qquad 3036228892
\end{center}

\begin{questions}
    
    \question Basics on Functions

    \begin{parts}
        
        \part[4] For the function $h_2:\Z\to\Z$, \[
            h(n)=\begin{cases}
                \frac{1}{3}n,\quad&\text{if }n\text{ is divisible by 3},\\
                3n,\quad&\text{if }n\text{ is not divisible by 3},
            \end{cases}
        \]
        identify its \begin{enumerate*}[label=(\arabic*)]
            \item range,
            and whether it is 
            \item injective,
            \item surjective,
            \item bijective;
            if your answer is no, explain why.
        \end{enumerate*}

        \begin{solution}
            \begin{enumerate}[label=(\arabic*)]
                \item \textbf{Case 1:} $n$ is divisible by 3, i.e., $ \forall k\in\Z :n=3k$.
                Then, $h(n)=\frac{1}{3}(3k)=k$, which may or may not be divisible by 3.

                \textbf{Case 2:} $n$ is not divisible by 3 and $n=3k+1$ for some $k\in\Z$.
                Then, $h(n)=3(3k+1)=9k+3$, which is divisible by 3.

                \textbf{Case 3:} $n$ is not divisible by 3 and $n=3k+2$ for some $k\in\Z$.
                Then, $h(n)=3(3k+2)=9k+6$, which is also divisible by 3.

                Thus, $h(n)$ is either divisible by 3 or not divisible by 3.
                \fbox{Therefore, the range of $h$ is $\Z$.}

                \item We show that $\forall n_1,n_2\in\Z:[(n_1\neq n_2)\rightarrow(h(n_1)\neq h(n_2))]$.
                We can prove by contraposition, i.e., $\forall n_1,n_2\in\Z:[(h(n_1)=h(n_2))\rightarrow(n_1=n_2)]$.

                \textbf{Case 1:} When both $n_1$ and $n_2$ are divisible by 3, we have
                \begin{align*}
                    h(n_1)=h(n_2) \quad\Leftrightarrow\quad \frac{1}{3}n_1&=\frac{1}{3}n_2\\
                    n_1&=n_2.
                \end{align*}

                \textbf{Case 2:} When both $n_1$ and $n_2$ are not divisible by 3, we have
                \begin{align*}
                    h(n_1)=h(n_2) \quad\Leftrightarrow\quad 3n_1&=3n_2\\
                    n_1&=n_2.
                \end{align*}

                \textbf{Case 3:} When one of $n_1$ and $n_2$ is divisible by 3 and the other is not,
                without loss of generality, let $n_1$ be divisible by 3 and $n_2$ not divisible by 3.
                Then, we have
                \begin{align*}
                    h(n_1)=h(n_2) \quad\Leftrightarrow\quad \frac{1}{3}n_1&=3n_2\\
                    n_1&=9n_2\\
                    3k&=9k+r\quad(\text{for some }k\in\Z\text{ and }r\in\set{1,2})\\
                    6k&=-r\\
                    k&=-\frac{r}{6}=-\frac{1}{6} \text{ or } -\frac{1}{3} \notin\Z
                \end{align*}
                Note that this case leads to a contraciction, so it is impossible.

                Therefore, by cases 1 and 2, we conclude that \fbox{$h_2$ is injective}.

                \item By sub-problem (1), we have shown that the range of $h_2$ is $\Z$,
                which is the same as the codomain of $h_2$. By definition, \fbox{$h_2$ is surjective}.

                \item Since $h_2$ is both injective and surjective, by definition, \fbox{$h_2$ is bijective}.
            \end{enumerate}
        \end{solution}

        \part[6] Functions $f:\R\to\R$ and $g:\R\to\R$ are defined as follows.
        Determine by formulas the compositions $f\circ g$ and $g\circ g$.
        \[
            f(x)=(x+2)^2\quad\text{and}\quad g(x)=\begin{cases}
                2x-6,\quad&\text{if }x\geq1,\\
                -x-1,\quad&\text{if }x<1.
            \end{cases}
        \]

        \begin{solution}
            \begin{enumerate}[label=(\arabic*)]
                \item $\bm{f\circ g}$\textbf{:}
                \[
                    (f\circ g)(x)=\boxed{
                        \begin{cases}
                            (2x-4)^2,\quad&\text{if }x\geq1,\\
                            (-x+1)^2,\quad&\text{if }x<1.
                        \end{cases}
                    }
                \]

                \item $\bm{g\circ g}$\textbf{:}
                
                Note that $g(x)\geq1$ when $2x-6\geq1\Rightarrow x\geq\frac{7}{2}\geq1$
                and when $-x-1\geq1\Rightarrow x\leq-2$.

                Also, $g(x)<1$ when $2x-6<1\Rightarrow 1\leq x<\frac{7}{2}$
                and when $-x-1<1\Rightarrow 1>x> -2$.

                Thus, the piecewise function $g\circ g$ has cases: $x\in(-\infty, -2]$,
                $x\in(-2, 1)$, $x\in[1, \frac{7}{2})$, and $x\in[\frac{7}{2}, +\infty)$.

                \textbf{Case 1:} $x\in(-\infty, -2]$. We have $g(x)\geq1$, so
                $g(g(x))=2(-x-1)-6=-2x-8$.

                \textbf{Case 2:} $x\in(-2, 1)$, We have $g(x)<1$, so
                $g(g(x))=-(-x-1)-1=x$.

                \textbf{Case 3:} $x\in[1,\frac{7}{2})$. We have $g(x)<1$, so
                $g(g(x))=-(2x-6)-1=-2x+5$.

                \textbf{Case 4:} $x\in[\frac{7}{2}, +\infty)$. We have $g(x)\geq1$, so
                $g(g(x))=2(2x-6)-6=4x-18$.

                Putting all cases together, we have \[
                    (g\circ g)(x) = \boxed{
                        \begin{cases}
                            -2x-8,\quad&\text{if }x\leq-2,\\
                            x,\quad&\text{if }-2<x<1,\\
                            -2x+5,\quad&\text{if }1\leq x<\frac{7}{2},\\
                            4x-18,\quad&\text{if }x\geq\frac{7}{2}.
                        \end{cases}
                    }
                \]
            \end{enumerate}
        \end{solution}

    \end{parts}

    \newpage

    \question Relations and Functions

    Prove or disprove the following statements.

    \begin{parts}
        
        \part[4] For arbitrary function $f:\Z\to\Z$, the relation defined by \[
            R=\set{(x,y)\in\Z\times\Z\mid f(x)-f(y)\text{ is even}}
        \] is reflexive and transitive.

        \part[4] For arbitrary function $f:\Z\to\Z$, the relation defined by \[
            R=\set{(x,y)\in\Z\times\Z\mid f(x)\cdot f(y)\in\set{-1, 0, 1}}
        \] is symmetric and transitive.

    \end{parts}

    \newpage

    \question Image of a Set

    Let $f:A\to B$ be a function. Consider an arbitrary set $A'\subseteq A$.
    The image of set $A'$ is defined to be the set \[
        f(A')=\set{y\in B\mid \exists x\in A'\text{ such that }y=f(x)}.
    \]

    \begin{parts}
        
        \part[4] Let $A=\set{1,2,3}$, $B=\set{a,b,c}$, $A_1=\set{1,2}$, and $A_2=\set{2,3}$.
        Prove or disprove the statement: $f(A_1\cap A_2)=f(A_1)\cap f(A_2)$ holds for any function
        $f:A\to B$.

        \part[6] Prove that for any subsets $A_1, A_2$ of $A$, $f(A_1\cap A_2) = f(A_1)\cap f(A_2)$
        if $f$ is injective.

    \end{parts}

    \newpage

    \question Asymptotics of Functions

    \begin{parts}
        
        \part[8] For the following functions $f$, $g$, determine whether $f=\bigO(g)$, $f=\Omega(g)$,
        or $f=\Theta(g)$. Justify your answers.

        \begin{subparts}
            
            \subpart $f(n)=2n^2+3n+1$ and $g(n)=n^2$.

            \subpart $f(n)=\log_4 n$ and $g(n)=\log_2 (\log_2 n)$.

            \subpart $f(n)=n!$ and $g(n)=100^n$. [Hint: Consider Stirling's formula.]

        \end{subparts}

        \part[8] For any function $g:\N\to\N$, define $f_g:\N\to\N$ to be the function \[
            f_g(n)=\underbrace{g\circ\cdots\circ g}_{n\text{ times}}(n-1).
        \]

        Let $g_1$ be the function defined by $g_1(n)=2n+1$ for any $n\in\N$ and $g_2$ be the function
        defined by $g_2(n)=n^2$ for any $n\in\N$. Find a function $h:\N\to\N$ such that all the following
        requirements are satisfied:
        \begin{itemize}
            \item $h\in\bigOmg(f_{g_1})$ but $h\notin\bigO(f_{g_1})$;
            \item $h\in\bigO(f_{g_2})$ but $h\notin\bigOmg(f_{g_2})$.
        \end{itemize}
        Justify your answer.

    \end{parts}

    \newpage

    \question Basic Counting

    \begin{parts}
        
        \part[4] Among all positive numbers that devide 4050 exactly, how many are multiples of 45?

        \part[4] There are 2 identical red balls and 3 identical black balls.
        You are going to put them into 5 different boxes.
        If each box can contain at most 2 balls, how many ways are there to put the balls in the boxes?

        \part[4] In a game, the player needs to move from the point $(0,0)$ to the point $(a,b)$ where
        $a\geq b>0$ are integers. At each point $(x,y)$, the player can either move right to $(x+1,y)$
        or move up to $(x,y+1)$. It is forbidden to move up for two successive times.
        How many different ways are there for the player to reach $(a,b)$?

    \end{parts}

    \newpage

    \question Counting Sets and Relations

    \begin{parts}
        
        \part[4] In a group of 15 computer scientists, each scientist has collaborated with at least 8
        other members of the group. Prove that there exist 3 members, such that each one of them has
        collaborated with the other two members.

        \part[6] Let $A$, $B$, $C$ be sets with $\card{A}=\card{B}=\card{C}=n$ and
        $\card{A\cup B\cup C}=m$. Find the minimal value of $\card{A\cap B\cap C}$.

        \part[6] Let $A$ be a set with $\card{A}=5$. Count the number of distinct
        \begin{enumerate*}[label=(\roman*)]
            \item symmetric relations and
            \item assymetric relations
        \end{enumerate*} that can be constructed on $A$.
        An assymetric relation $R$ is a relation such that, for every pair of distinct $x$ and $y$,
        $x\rel y\Rightarrow\neg(y\rel x)$.

    \end{parts}

    \newpage

    \question Pigeonhole

    \begin{parts}
        
        \part[4] Show that if you have a set $A$ of 5 points $(x_i, y_i)\in\Z^2$, there must exist
        distinct $j, k$ such that, for $(x_j, y_j),(x_k,y_k)\in A$, the midpoint
        $\displaystyle\left(\frac{x_j+x_k}{2},\frac{y_j+y_k}{2}\right)$ also lies in $\Z^2$.

        \part[4] For any $n\in\N$, prove that for any collection of $n+1$ distinct numbers drawn
        from $\set{1,2,\ldots,2n}$, there must be at least one pair of numbers such that one of them
        is a multiple of the other.

    \end{parts}

    \newpage

    \question Conditional Probability

    You are training a classifier for spam detection using machine learning. Each data point $(x,y)$ in the
    dataset represents an email, which can be categorized as either spam or non-spam, with the content of
    the email denoted as $x$ and a label $y\in{\text{spam},\text{non-spam}}$.

    \begin{parts}
        
        \part[4] Given that 10\% of the data in the dataset is labelled as spam and 90\% is labelled
        as non-spam, and that the model's output satisfies the following conditions: \[
            P(\text{output}=\text{spam}\mid\text{label}=\text{spam})=0.8,\quad
            P(\text{output}=\text{spam}\mid\text{label}=\text{non-spam})=0.9,
        \] determine the probability that the model's output matches the true label when the input is
        randomly selected from the dataset.

        \part[4] Continuing from part (\ref{part@8@1}), calculate the probability that the
        true label is spam given that the model predicts spam.

        \part[4] Suppose the labels are manually provided by users, introducing noise in the dataset. 
        This means some emails have incorrect labels (i.e., the label has been flipped from spam to
        non-spam or vice versa). With the same conditions as in part (\ref{part@8@1}), and given that
        5\% of the emails have incorrect labels, determine the probability that the model categorizes
        a random email from the dataset correctly, regardless of whether the label is accurate.

        \part[4] There are $n$ passengers queuing to board a bus one by one.
        Each passenger has an assigned seat. However, the first passenger does not follow the seating
        arrangement and chooses a seat at random. Subsequently, each passenger takes their assigned
        seat if it is available; otherwise, they select a seat uniformly at random from the remaining
        unoccupied seats. Determine the probability that the last passenger sits in the assigned seat.

        \part[4] A family has two children. It is known that at least one of them is a girl born on
        a Monday. What is the probability that both children are girls?

    \end{parts}

\end{questions}

\end{document}