\question Calculate the determinant of the following $n\times n$ matrix:
\[
    D_n = \begin{bmatrix}
        a & b & b & \cdots & b \\
        b & a & b & \cdots & b \\
        b & b & a & \cdots & b \\
        \vdots & \vdots & \vdots & \ddots & \vdots \\
        b & b & b & \cdots & a
    \end{bmatrix}
\]

\begin{solution}
    By performing row operations and update the determinant accordingly, we have
    \begin{align*}
        \det(D_n) &=
        \det\begin{bmatrix}
            a & b & b & \cdots & b \\
            b-a & a-b & 0 & \cdots & 0 \\
            b-a & 0 & a-b & \cdots & 0 \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            b-a & 0 & 0 & \cdots & a-b
        \end{bmatrix} \quad (R_n\leftarrow R_n-R_1, n\in[2,n]) \\
        &= (a-b)^{n-1} \cdot \det\trans{\begin{bmatrix}
            a & b & b & \cdots & b \\
            -1 & 1 & 0 & \cdots & 0 \\
            -1 & 0 & 1 & \cdots & 0 \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            -1 & 0 & 0 & \cdots & 1
        \end{bmatrix}} \quad (\text{factorise } (a-b) \text{ from } R_n, n\in[2,n]) \\
        &= (a-b)^{n-1} \cdot \det\begin{bmatrix}
            a & -1 & -1 & \cdots & -1 \\
            b & 1 & 0 & \cdots & 0 \\
            b & 0 & 1 & \cdots & 0 \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            b & 0 & 0 & \cdots & 1
        \end{bmatrix} \quad (\det(A)=\det(\trans{A})) \\
        &= (a-b)^{n-1} \cdot \det\begin{bmatrix}
            a+(n-1)b & 0 & 0 & \cdots & 0 \\
            b & 1 & 0 & \cdots & 0 \\
            b & 0 & 1 & \cdots & 0 \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            b & 0 & 0 & \cdots & 1
        \end{bmatrix} \quad (R_1\leftarrow R_1+\sum_{n=2}^n R_n) \\
        &= (a-b)^{n-1} \cdot (a+(n-1)b) \cdot \det(I_{n-1}) \quad (\text{expand along } R_1) \\
        &= (a-b)^{n-1} \cdot (a+(n-1)b) \cdot 1 \\
        &= \boxed{(a-b)^{n-1} (a+(n-1)b)}
    \end{align*}
\end{solution}